<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>{{ @siteName }}</title>
    <style>
        .demo-section { margin: 20px 0; padding: 10px; border: 1px solid #eee; }
        h3 { margin: 0 0 10px 0; color: #333; }
        pre { background: #f5f5f5; padding: 8px; font-size: 12px; }
        .clearfix { clear: both; }
    </style>
</head>
<body>
    <h1>{{ @siteName }} - å®˜æ–¹è¯­æ³•æ¼”ç¤º</h1>

    <!-- 1. æ ¸å¿ƒå˜é‡ï¼ˆä¸¥æ ¼å®˜æ–¹è¯­æ³•ï¼‰ -->
    <div class="demo-section">
        <h3>1. å˜é‡è¾“å‡ºï¼ˆF3 3.9 æ ‡å‡†ï¼‰</h3>
        <p>åŸºç¡€ï¼ˆè‡ªåŠ¨è½¬ä¹‰ï¼‰ï¼š{{ @user.name }}</p>
        <p>ç©ºåˆå¹¶ï¼ˆ??ï¼‰ï¼š{{ @undefinedVar ?? 'å˜é‡æœªå®šä¹‰' }}</p>
        <p>ä¸‰å…ƒç®€å†™ï¼ˆ?:ï¼‰ï¼š{{ @undefinedVar ?: 'å˜é‡æœªå®šä¹‰' }}</p>
        <p>åŸç”Ÿè¾“å‡ºï¼ˆ@rawï¼‰ï¼š{{ @raw @user.name }}</p>
    </div>

    <!-- 3. æ¡ä»¶é€»è¾‘ï¼ˆå®˜æ–¹æ ‡ç­¾ï¼‰ -->
    <div class="demo-section">
        <h3>3. æ¡ä»¶é€»è¾‘</h3>
        <p>Check å•åˆ†æ”¯ï¼š
            <F3:check if="{{ @isActive }}">
                <span style="color:green;">âœ… æ¿€æ´»</span>
            </F3:check>
        </p>
        <p>Check åŒåˆ†æ”¯ï¼š
            <F3:check if="{{ @user.loggedIn }}">
                <F3:true>âœ… {{ @user.name }} å·²ç™»å½•</F3:true>
                <F3:false>âŒ æœªç™»å½•</F3:false>
            </F3:check>
        </p>
        <p>Switchï¼š
            <F3:switch expr="{{ @user.role }}">
                <F3:case value="admin" break="true">ğŸ”§ ç®¡ç†å‘˜</F3:case>
                <F3:case value="editor" break="true">âœï¸ ç¼–è¾‘</F3:case>
                <F3:default>ğŸ‘¤ æ™®é€šç”¨æˆ·</F3:default>
            </F3:switch>
        </p>
    </div>

    <!-- 4. å¾ªç¯ï¼ˆå®˜æ–¹è¯­æ³•ï¼Œæ— è¶Šç•Œï¼‰ -->
    <div class="demo-section">
        <h3>4. å¾ªç¯è¿­ä»£</h3>
        <p>Loop è®¡æ•°å™¨ï¼š
            <ul>
                <F3:loop from="{{ @i=0 }}" to="{{ @i < count(@fruits) }}" step="{{ @i++ }}">
                    <li>ç¬¬{{ @i+1 }}ä¸ªï¼š{{ @fruits[@i] }}</li>
                </F3:loop>
            </ul>
        </p>
        <p>Repeat ä»…å€¼ï¼š
            <ul>
                <F3:repeat group="{{ @fruits }}" value="{{ @fruit }}">
                    <li>{{ @fruit }}</li>
                </F3:repeat>
            </ul>
        </p>
        <p>Repeat é”®å€¼ï¼š
            <ul>
                <F3:repeat group="{{ @userData }}" key="{{ @k }}" value="{{ @v }}">
                    <li>{{ @k }}ï¼š{{ @v }}</li>
                </F3:repeat>
            </ul>
        </p>
        <p>Repeat é”®+å€¼+è®¡æ•°å™¨ï¼š
            <ul>
                <F3:repeat group="{{ @products }}" key="{{ @id }}" value="{{ @p }}" counter="{{ @idx }}">
                    <li>{{ @idx+1 }} - ID:{{ @id }} | {{ @p.name }} | Â¥{{ @p.price }}</li>
                </F3:repeat>
            </ul>
        </p>
    </div>

    <!-- 5. æ¨¡æ¿å¼•å…¥ï¼ˆå®˜æ–¹ï¼‰ -->
    <div class="demo-section clearfix">
        <h3>5. æ¨¡æ¿å¼•å…¥</h3>
        <p>æ— æ¡ä»¶å¼•å…¥ï¼š<F3:include href="partials/header.htm" /></p>
        <p>æ¡ä»¶å¼•å…¥ï¼š<F3:include if="{{ @isActive }}" href="partials/sidebar.htm" /></p>
    </div>

    <!-- 6. æ¨¡æ¿å†…èµ‹å€¼ï¼ˆå®˜æ–¹ï¼‰ -->
    <div class="demo-section">
        <h3>6. å˜é‡èµ‹å€¼</h3>
        <F3:set key="greet" value="ä½ å¥½ï¼Œ{{ @user.name }}ï¼" />
        <p>èµ‹å€¼ç»“æœï¼š{{ @greet }}</p>
        <F3:set key="nextAge" value="{{ @user.age + 1 }}" />
        <p>æ˜å¹´å¹´é¾„ï¼š{{ @nextAge }}</p>
    </div>
</body>
</html>